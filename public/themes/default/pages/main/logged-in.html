<p>
  Click here for your <a href="/v1/users/profile/{{ user.slug }}">profile</a>,
  or here to <a href="/auth/logout">log out</a>.
  {% if user.admin %}
    Or, since you're an admin, click here for the
    <a href="/v1/admin">admin interface</a>.
  {% endif %}
</p>

{% if user.enabled_at %}
  <h2>Start a new project!</h2>

  <div id="create-project-form">
    <ul class="one-row">
      {% for project in starters %}
        {% set starter = true %}
        {%
          include
          "fragments/project-card.html"
        %}
      {% endfor %}
    </ul>
  </div>

  {% if projectList.length %}
    <h2>Your projects:</h2>

    <ul>
      {% for project in projectList %}
        {% set ownProject = true %}
        {%
          include
          "fragments/project-card.html"
        %}
      {% endfor %}
    </ul>
  {% endif %}
{% endif %}
{% include "fragments/settings.html" %}
{%
  include
  "../fragments/file-issues.html"
%}

<script defer>
  const loadLinks = document.querySelectorAll(`a.load-project`);
  loadLinks.forEach((a) =>
    a.addEventListener(`click`, ({}) => {
      const li = a.closest(`li`);
      li.classList.add(`loading`);
      setTimeout(() => li.classList.remove(`loading`), 5000);
    }),
  );
</script>

{% if temporaryAdminMode %}
  <!-- This only shows up when running with --admin-mode -->
  <style>
    .ribbon {
      background: white;
      border: 2px solid black;
      color: red;
      font-family: Arial;
      font-size: 2em;
      font-weight: bolder;
      left: 0;
      padding: 1em;
      text-align: center;
      top: 0;
      transform-origin: top left;
      transform: translate(-5em, 8em) rotate(-45deg);
      width: 16em;
      position: fixed;
    }
  </style>
  <div class="ribbon">ADMIN MODE</div>
{% endif %}
